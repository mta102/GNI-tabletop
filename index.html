<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>GNI Tabletop Exercise - Internet Shutdown</title>
  
<style>
  body {
    font-family: 'Segoe UI', sans-serif;
    background-color: #f0f2f5;
    padding: 40px;
  }

  .question-block {
    background: #ffffff;
    border-radius: 12px;
    padding: 20px;
    margin-bottom: 30px;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
    transition: transform 0.2s ease;
  }

  .question-block:hover {
    transform: scale(1.03);
  }

  .question-block p {
    font-size: 18px;
    font-weight: 600;
    margin-bottom: 15px;
  }


.question-block p.narrative {
  font-weight: normal; 
  font-style: italic;  
}

  button {
    display: inline-block;
    margin: 6px 8px 0 0;
    padding: 10px 16px;
    font-size: 16px;
    border: none;
    border-radius: 8px;
    background-color: #007bff;
    color: white;
    cursor: pointer;
    transition: background-color 0.2s ease;
  }

  button:hover {
    background-color: #0056b3;
  }

  button:disabled {
    background-color: #aaa;
    cursor: not-allowed;
  }

  .answer {
    margin-top: 10px;
    color: #2c7a00;
    font-style: italic;
    font-size: 16px;
  }
  .explain {
    margin-top: 10px;
    color: black;
    font-style: italic;
    font-size: 16px;
  }

.intro-section {
  margin-bottom: 30px;
}

.intro-section .toggleIntro {
  background-color: #6c757d;
  color: white;
  border: none;
  padding: 10px 16px;
  font-size: 14px;
  border-radius: 8px;
  cursor: pointer;
  margin-bottom: 10px;
}

.intro-section .toggleIntro:hover {
  background-color: #5a6268;
}

.intro-section .introText {
  background-color: #fffbe6;
  border: 1px solid #ffe58f;
  padding: 15px;
  border-radius: 8px;
}

.introText {
  max-height: 0;
  overflow: hidden;
  opacity: 0;
  transition: all 0.4s ease;
}

.introText.show {
  max-height: 500px; /* set to a reasonable max height */
  opacity: 1;
}




  #score {
    font-size: 20px;
    text-align: center;
    color: #333;
    margin-top: 40px;
  }







</style>



	
</head>
<body>
<header style="text-align: left; margin-bottom: 20px;">
    <img src="logo-gni.svg" alt="Logo" style="width: 300px; height: auto;" />
  </header>
<h1>GNI Automated Censorship Tabletop Exercise</h1>

	
<div class="intro-section">
  <button class="toggleIntro">Show Factual Background ▼</button>
  <div class="introText" >
    <p>The Republic of Genovia will hold presidential elections next year. The incumbent, President Thermopolis, is campaigning for a third term and her party holds a majority in the legislature. The other leading candidate is Senator Renaldi, a longstanding representative of a minority ethnic group. Senator Renaldi has been gaining popularity in recent years as a vocal critic of the administration’s increasingly authoritarian actions. In January 2020, an unidentified person tried to crash a van into a crowded square abutting the presidential residence. The driver was the sole person killed. President Thermopolis suggested in public remarks that they were affiliated with Renaldi, but independent reports have been unable to verify this. Since the attack, public demonstrations in the capital have become more frequent, occasionally escalating into violence. The government has taken action against some Renaldi supporters and journalists, citing threats to public order.    
</p>
  </div>
</div>

<div class="intro-section">
  <button class="toggleIntro">Show Legal Background ▼</button>
  <div class="introText">
    <p>The Constitution of the Republic of Genovia guarantees citizens the right to free expression (Sec. 14), and protects the privacy of citizens and their homes, correspondence, telephone conversations and telegraphic communications (Sec. 26). However, Sec. 40 permits laws that abrogate these protections if they are reasonably justifiable in a democratic society in the interest of defense, public safety, public order, public morality or public health.

The Communications Regulatory Authority oversees the regulation of the telecom sector and administers the Communications Regulatory Code. It has the authority to:<br>
●	Issue operating licenses to telcos. Such licenses are contingent on the installation of any equipment required by the government for monitoring purposes, and further state that the government may take over the licensee’s service in the public interest, in the event of a national emergency. Local employees may be held liable for noncompliance with government orders and directions in such circumstances.<br>
●	Order network operators keep records of traffic data, subscriber information, or related content for a period prescribed by the Authority (currently 2 years).<br>
●	Block the usage of mobile terminals in any sensitive area on national security grounds. The licensee must deny service within 6 hours of a legally sufficient request.<br>
●	Revoke licenses for the “use of the network for anti-national activities,” which is also a criminal offense. No legal document prescribes the method and the instrument that the government may use in this regard.<br>
Additionally, Part 31(f) of the CRC permits a court or officer in charge of a police station to issue an order for the production of “any document or other thing… necessary or desirable for the purposes of any investigation, inquiry, trial or proceeding.” 

</p>
  </div>
</div>

<div class="intro-section">
  <button class="toggleIntro">Show Your Role ▼</button>
  <div class="introText" >
    <p>You are a team of senior managers at GNI member company TeleWorld, a multinational telecoms operator based in a rights-protective jurisdiction with strong rule of law. TeleWorld has sole ownership of Genovia-based TeleGen, which is the country’s leading consumer mobile network operator. Following TeleGen are the domestically-owned NoviCom (32% market share) and foreign-owned Cupid (13%). Most people in Genovia do not have a fixed connection and rely solely on their mobile devices for connectivity. 
	    </p>
  </div>
</div>

  <div id="quiz"></div>
  <div id="score" style="font-weight: bold; margin-top: 30px;"></div>

  <script>
    const quizContainer = document.getElementById('quiz');
    const scoreContainer = document.getElementById('score');
    let score = 0;

  document.querySelectorAll('.intro-section').forEach(section => {
    const btn = section.querySelector('.toggleIntro');
    const text = section.querySelector('.introText');

    btn.addEventListener('click', () => {
      const isVisible = text.classList.toggle('show');
      btn.textContent = isVisible
        ? btn.textContent.replace('Show', 'Hide').replace('▼', '▲')
        : btn.textContent.replace('Hide', 'Show').replace('▲', '▼');
    });
  });



    function showQuestion(key) {
      const q = questions[key];
	//console.log(q);
      const block = document.createElement('div');
      block.className = 'question-block';
      
      
      const narrativeText = document.createElement('p');
      narrativeText.className = 'narrative';
      narrativeText.textContent = q.narrative;
      block.appendChild(narrativeText);


      const questionText = document.createElement('p');
      questionText.textContent = q.question;
      block.appendChild(questionText);

      q.answers.forEach(answer => {
        const btn = document.createElement('button');
        btn.textContent = answer.answer;
        btn.onclick = () => {
          score += answer.score;

          // Show selected answer
          const answerEl = document.createElement('div');
          answerEl.className = 'answer';
          answerEl.textContent = `You answered: ${answer.answer} (+${answer.score} points)`;
          block.appendChild(answerEl);

	 
	 const explainEl = document.createElement('div');
          explainEl.className = 'explain';
          explainEl.textContent = answer.explain;
          block.appendChild(explainEl);

	if (!answer.summary === ""){   
	const summaryEl = document.createElement('div');
          summaryEl.className = 'explain';
          summaryEl.textContent = answer.summary;
          block.appendChild(summaryEl);}

          // Disable all buttons in this block
          const allButtons = block.querySelectorAll('button');
          allButtons.forEach(b => b.disabled = true);

          // Continue to next question
          if (answer.next === "end") {
            showScore();
          } else {
            showQuestion(answer.next);
          }
        };
        block.appendChild(btn);
      });

      quizContainer.appendChild(block);
    }

    function showScore() {
      scoreContainer.textContent = `Your total score is: ${score}`;
    }

  async function loadQuestions() {
  //const response = await fetch('https://raw.githubusercontent.com/mta102/GNItabletop/refs/heads/main/qa.csv');
  const response = await fetch('qa.csv');
  const data = await response.text();
  //console.log(data);

  const rows = data.trim().split('\n');
//console.log(rows);
  const headers = rows.shift().split(',');
//console.log(headers);

  const questions = {};

  for (let row of rows) {
	console.log("row");
	console.log(row);
    const values = row.split(',');
	console.log("values");	  
	console.log(values);

    const entry = {};
    headers.forEach((header, index) => {
	console.log(`header ${header}`);
      entry[header.trim()] = (values[index] || "").trim();
    });
console.log("entry");
console.log(entry);

    if (!questions[entry.id]) {
      questions[entry.id] = {
        narrative: entry.narrative,
        question: entry.question,
        answers: []
      };
    }

    questions[entry.id].answers.push({
      answer: entry.answer_text,
      explain: entry.explain_text,
      summary: entry.post_summary,
      score: parseInt(entry.score),
      next: entry.next
    });


  }
//console.log(questions);

  return questions; }

  (async function init() {
    questions = await loadQuestions();
    showQuestion("start");
  })();
  </script>

</body>
</html>
